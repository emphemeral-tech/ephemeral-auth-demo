<!DOCTYPE html>
<html>
<head>
    <title>Ephemeral Auth vs Token Auth - REAL LOGIN DEMO</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .demo-container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .demo-box { border: 3px solid; padding: 20px; border-radius: 10px; background: white; min-height: 600px; }
        .token-demo { border-color: #ff4444; }
        .ephemeral-demo { border-color: #44ff44; }
        
        .login-form { background: #f9f9f9; padding: 15px; border-radius: 5px; margin: 10px 0; }
        input { padding: 8px; margin: 5px; width: 200px; }
        button { margin: 5px; padding: 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .login-btn { background: #007bff; color: white; }
        .action-btn { background: #28a745; color: white; }
        .hacker-btn { background: #ffc107; color: black; }
        
        .session-display { background: #e9ecef; padding: 15px; margin: 10px 0; border-radius: 5px; min-height: 80px; }
        .user-status { background: #d4edda; padding: 10px; border-radius: 5px; margin: 10px 0; }
        .log { background: #000; color: #0f0; padding: 10px; margin: 10px 0; border-radius: 5px; max-height: 200px; overflow-y: auto; font-family: monospace; font-size: 12px; }
        
        .ephemeral-flow { background: #e8f5e8; padding: 10px; border-radius: 5px; margin: 10px 0; }
        .token-flow { background: #ffe8e8; padding: 10px; border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>üîê REAL-WORLD AUTH SHOWDOWN</h1>
    <p><strong>Same user database. Same login. DIFFERENT SECURITY!</strong></p>
    
    <div class="demo-container">
        <!-- TOKEN AUTH SIDE -->
        <div class="demo-box token-demo">
            <h2>üîì TRADITIONAL TOKEN AUTH</h2>
            <p><em>Login once ‚Üí Get token ‚Üí Use for HOURS</em></p>
            
            <div class="login-form">
                <h3>User Login</h3>
                <input type="text" id="tokenUsername" placeholder="Username" value="john@company.com">
                <input type="password" id="tokenPassword" placeholder="Password" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"><br>
                <button class="login-btn" onclick="tokenLogin()">üîë Login & Get Token</button>
            </div>
            
            <div class="token-flow">
                <strong>Token Flow:</strong><br>
                1. Login ‚Üí 2. Get JWT Token (2 hours) ‚Üí 3. Reuse token repeatedly
            </div>
            
            <div class="user-status" id="tokenUserStatus">
                <strong>Status:</strong> Not logged in
            </div>
            
            <button class="action-btn" onclick="tokenAccessBank()">üè¶ Access Bank Account</button>
            <button class="action-btn" onclick="tokenAccessEmail()">üìß Check Email</button>
            <button class="hacker-btn" onclick="stealToken()">üëπ SIMULATE TOKEN THEFT</button>
            
            <div class="session-display" id="tokenDisplay">
                <strong>TOKEN STATUS:</strong> No active session
            </div>
            
            <div class="log" id="tokenLog"></div>
        </div>

        <!-- EPHEMERAL AUTH SIDE -->
        <div class="demo-box ephemeral-demo">
            <h2>‚úÖ EPHEMERAL AUTH</h2>
            <p><em>Each action ‚Üí New proof ‚Üí Session VANISHES</em></p>
            
            <div class="login-form">
                <h3>User Login</h3>
                <input type="text" id="ephemeralUsername" placeholder="Username" value="john@company.com">
                <input type="password" id="ephemeralPassword" placeholder="Password" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"><br>
                <button class="login-btn" onclick="ephemeralLogin()">üéØ Request Ephemeral Challenge</button>
            </div>
            
            <div class="ephemeral-flow">
                <strong>Ephemeral Flow:</strong><br>
                1. Request challenge ‚Üí 2. Solve proof ‚Üí 3. Get NANOSEC session ‚Üí 4. VANISH!
            </div>
            
            <div class="user-status" id="ephemeralUserStatus">
                <strong>Status:</strong> Not logged in
            </div>
            
            <button class="action-btn" onclick="ephemeralAccessBank()">üè¶ Access Bank Account</button>
            <button class="action-btn" onclick="ephemeralAccessEmail()">üìß Check Email</button>
            <button class="hacker-btn" onclick="stealEphemeral()">üëπ TRY TO STEAL SESSION</button>
            
            <div class="session-display" id="ephemeralDisplay">
                <strong>SESSION STATUS:</strong> No active session
            </div>
            
            <div class="log" id="ephemeralLog"></div>
        </div>
    </div>

    <script>
        // TOKEN AUTH - REALISTIC SIMULATION
        let userToken = null;
        let tokenUser = null;
        let tokenActions = [];

        function tokenLogin() {
            const username = document.getElementById('tokenUsername').value;
            userToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.' + Math.random().toString(36).substr(2, 20);
            tokenUser = username;
            
            document.getElementById('tokenUserStatus').innerHTML = 
                `<strong>‚úÖ LOGGED IN:</strong> ${username}<br>
                 <em>Token valid for 2 HOURS</em>`;
                 
            document.getElementById('tokenDisplay').innerHTML = 
                `<strong>üîë ACTIVE TOKEN:</strong><br>
                 ${userToken.substr(0, 30)}...<br>
                 <span style="color: red;">‚è∞ Expires in 2 hours</span>`;
            
            logToken(`üîë ${username} logged in ‚Üí Got JWT token (2 hours)`);
            logToken('‚úÖ Token can be reused for ALL actions for 2 HOURS');
        }

        function tokenAccessBank() {
            if (!userToken) {
                logToken('‚ùå Please login first');
                return;
            }
            tokenActions.push('Bank Access');
            logToken(`üè¶ BANK ACCESS with token ‚Üí Balance: $${(Math.random()*10000).toFixed(2)}`);
            logToken('‚úÖ Token STILL VALID for next 2 hours');
        }

        function tokenAccessEmail() {
            if (!userToken) {
                logToken('‚ùå Please login first');
                return;
            }
            tokenActions.push('Email Access');
            logToken(`üìß EMAIL ACCESS with token ‚Üí 3 new messages`);
            logToken('‚úÖ Token STILL VALID for next 2 hours');
        }

        function stealToken() {
            if (!userToken) {
                logToken('üëπ Hacker: No token to steal!');
                return;
            }
            
            logToken('üö® üö® üö® TOKEN STOLEN BY HACKER!');
            logToken(`üëπ Hacker: I have ${tokenUser}\'s token!`);
            
            // Hacker uses stolen token
            setTimeout(() => {
                logToken('üëπ Hacker: Accessing bank account...');
                logToken(`üëπ Hacker: Transferred $${(Math.random()*1000).toFixed(2)} to my account!`);
            }, 1000);
            
            setTimeout(() => {
                logToken('üëπ Hacker: Reading private emails...');
                logToken('üëπ Hacker: Found sensitive company information!');
            }, 2000);
            
            setTimeout(() => {
                logToken('üëπ Hacker: Changing password...');
                logToken('üëπ Hacker: Locked the real user out!');
                logToken('üëπ Hacker: I can keep going for 2 HOURS! üòà');
            }, 3000);
        }

        function logToken(message) {
            const log = document.getElementById('tokenLog');
            log.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${message}</div>`;
            log.scrollTop = log.scrollHeight;
        }

        // EPHEMERAL AUTH - REALISTIC SIMULATION
        let ephemeralUser = null;
        let currentSession = null;
        let ephemeralActions = [];

        function ephemeralLogin() {
            const username = document.getElementById('ephemeralUsername').value;
            document.getElementById('ephemeralUserStatus').innerHTML = 
                `<strong>üîê SOLVING CHALLENGE:</strong> ${username}`;
            document.getElementById('ephemeralDisplay').innerHTML = 
                '<strong>üéØ CRYPTO CHALLENGE:</strong> Solving mathematical proof...';
            
            logEphemeral(`üéØ ${username} requested ephemeral challenge`);
            
            // Simulate solving cryptographic proof
            setTimeout(() => {
                ephemeralUser = username;
                currentSession = 'eph_' + Math.random().toString(36).substr(2, 16);
                
                document.getElementById('ephemeralUserStatus').innerHTML = 
                    `<strong>‚úÖ AUTHENTICATED:</strong> ${username}<br>
                     <em>Nanosecond session ready</em>`;
                     
                document.getElementById('ephemeralDisplay').innerHTML = 
                    `<strong>‚ö° EPHEMERAL SESSION:</strong><br>
                     ${currentSession}<br>
                     <span style="color: green;">üí® Vanishes after ONE use</span>`;
                
                logEphemeral('‚úÖ Cryptographic proof solved ‚Üí Nanosecond session created');
                logEphemeral('‚ö†Ô∏è Session will SELF-DESTRUCT after single use');
            }, 1000);
        }

        function ephemeralAccessBank() {
            if (!currentSession) {
                logEphemeral('‚ùå Please solve challenge first');
                return;
            }
            
            ephemeralActions.push('Bank Access');
            logEphemeral(`üè¶ BANK ACCESS with ephemeral session ‚Üí Balance: $${(Math.random()*10000).toFixed(2)}`);
            logEphemeral('üí® Session USED ‚Üí VANISHING...');
            
            // Session vanishes
            setTimeout(() => {
                currentSession = null;
                document.getElementById('ephemeralDisplay').innerHTML = 
                    '<strong>üí® SESSION VANISHED</strong><br>Request new challenge for next action';
                logEphemeral('‚úÖ Security: Session destroyed automatically');
            }, 1500);
        }

        function ephemeralAccessEmail() {
            if (!currentSession) {
                logEphemeral('‚ùå Please solve challenge first');
                return;
            }
            
            ephemeralActions.push('Email Access');
            logEphemeral(`üìß EMAIL ACCESS with ephemeral session ‚Üí 3 new messages`);
            logEphemeral('üí® Session USED ‚Üí VANISHING...');
            
            // Session vanishes
            setTimeout(() => {
                currentSession = null;
                document.getElementById('ephemeralDisplay').innerHTML = 
                    '<strong>üí® SESSION VANISHED</strong><br>Request new challenge for next action';
                logEphemeral('‚úÖ Security: Session destroyed automatically');
            }, 1500);
        }

        function stealEphemeral() {
            if (!currentSession) {
                logEphemeral('üëπ Hacker: No session to steal!');
                return;
            }
            
            logEphemeral('üëπ Hacker: Stole the ephemeral session!');
            
            setTimeout(() => {
                logEphemeral('üëπ Hacker: Making ONE request with stolen session...');
                setTimeout(() => {
                    logEphemeral('üí® Hacker: Session VANISHED after my ONE action!');
                    logEphemeral('üò° Hacker: I got ONE bank access then NOTHING!');
                    logEphemeral('‚úÖ SECURITY WIN: Maximum damage = ONE action');
                    currentSession = null;
                    document.getElementById('ephemeralDisplay').innerHTML = 
                        '<strong>üí® SESSION STOLEN & USED</strong><br>Hacker limited to SINGLE action';
                }, 1000);
            }, 500);
        }

        function logEphemeral(message) {
            const log = document.getElementById('ephemeralLog');
            log.innerHTML += `<div>${new Date().toLocaleTimeString()}: ${message}</div>`;
            log.scrollTop = log.scrollHeight;
        }
    </script>
</body>
</html>